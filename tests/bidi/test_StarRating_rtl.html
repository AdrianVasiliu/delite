<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-type" content="text/html; charset=utf-8"/>
	<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1,user-scalable=no"/>
	<meta name="apple-mobile-web-app-capable" content="yes"/>
	<title>StarRating</title>
	<script type="text/javascript">
		dojoConfig = {has: { 'dojo-bidi': true }};
	</script>
	<script type="text/javascript" src="../boilerplate.js"></script>

	<script type="text/javascript">
		var val = {"star": 0, "star_rtl": 0};
		require([
			"dojo/dom",
			"dui/register",
			"dui/StarRating",
			"dojo/domReady!"
		], function(dom, register, StarRating){

			increment = function(suffix){
				if(val["star" + (suffix ? suffix : "")] == 7){ return; }
				val["star" + (suffix ? suffix : "")] += 0.5;
				dom.byId("star" + (suffix ? suffix : "")).value = val["star" + (suffix ? suffix : "")];
				document.getElementById("value" + (suffix ? suffix : "")).innerHTML = val["star" + (suffix ? suffix : "")];
			};

			decrement = function(suffix){
				if(val["star" + (suffix ? suffix : "")] == 0){ return; }
				val["star" + (suffix ? suffix : "")] -= 0.5;
				dom.byId("star" + (suffix ? suffix : "")).value = val["star" + (suffix ? suffix : "")];
				document.getElementById("value" + (suffix ? suffix : "")).innerHTML = val["star" + (suffix ? suffix : "")];
			};

			register.parse();

			var rating = new StarRating({
				image:"../images/star-4-bidi.png",
				maximum:7,
				editable:true,
				editHalfValues: true,
				value: 3.5
			}).placeAt("editablestar6");
			rating.watch('value', function(name, oldValue, value){
				document.getElementById("editablestar6value").innerHTML = "Rating is " + value + " star" + (value > 1 ? "s" : "");
			});
			rating.startup();
			rating = new StarRating({
				image:"../images/star-4-bidi.png",
				maximum:7,
				editable:true,
				editHalfValues: true,
				value: 3.5,
				dir: "rtl"
			}).placeAt("editablestar6_rtl");
			rating.watch('value', function(name, oldValue, value){
				document.getElementById("editablestar6value_rtl").innerHTML = "Rating is " + value + " star" + (value > 1 ? "s" : "");
			});
			rating.startup();
		});
	</script>
	<style>
	button {
		width: 100px;
	}
	</style>
</head>
<body>
	<div>
		<div>
			<h1>LTR direction</h1>
			<dui-starrating id="star" image="../images/star-4-bidi.png" maximum=7></dui-starrating>
			<span id="value">0</span><br>
			<button type="button" onclick="decrement()">&minus;</button>
			<button type="button" onclick="increment()">+</button>
			<p>
			Editable: <dui-starrating id="editablestar1" image="../images/star-4-bidi.png" maximum=7 editable=true></dui-starrating>
			<p>
			Editable (half values increment): <dui-starrating id="editablestar2" image="../images/star-4-bidi.png" maximum=7 editable=true editHalfValues=true></dui-starrating>
			<p>
			No zero setting: <dui-starrating id="editablestar5" image="../images/star-4-bidi.png" maximum=7 editable=true editHalfValues=true value=0.5 zeroAreaWidth=0></dui-starrating>
			<p>
			Programmatic: <span id="editablestar6"></span><br>
			<span id="editablestar6value"></span>
		</div>
		<div dir="rtl">
			<h1>RTL direction</h1>
			<dui-starrating id="star_rtl" dir="rtl" image="../images/star-4-bidi.png" maximum=7></dui-starrating>
			<span id="value_rtl">0</span><br>
			<button type="button" onclick="decrement('_rtl')">&minus;</button>
			<button type="button" onclick="increment('_rtl')">+</button>
			<p>
			Editable: <dui-starrating id="editablestar1_rtl" tabindex="0" dir="rtl" image="../images/star-4-bidi.png" maximum=7 editable=true></dui-starrating>
			<p>
			Editable (half values increment): <dui-starrating id="editablestar2_rtl" dir="rtl" image="../images/star-4-bidi.png" maximum=7 editable=true editHalfValues=true></dui-starrating>
			<p>
			No zero setting: <dui-starrating id="editablestar5_rtl" dir="rtl" image="../images/star-4-bidi.png" maximum=7 editable=true editHalfValues=true value=0.5 zeroAreaWidth=0></dui-starrating>
			<p>
			Programmatic: <span id="editablestar6_rtl"></span><br>
			<span id="editablestar6value_rtl"></span>
		</div>
	</div>	
</body>
</html>

<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-type" content="text/html; charset=utf-8"/>
	<meta name="viewport" 
		content="width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1,user-scalable=no"/>
	<meta name="apple-mobile-web-app-capable" content="yes"/>
	<title>Filtered RoundRectList - demo</title>
	
	<!-- This test shows a dui/mobile/RoundRectList filtered using dui/mobile/FilteredListMixin. -->
	<!-- Use-case: markup; demonstrates the customization of filtering criteria. -->

	<script type="text/javascript" src="../deviceTheme.js"></script>
	<script type="text/javascript" src="../../../dojo/dojo.js"
		data-dojo-config="async: true, parseOnLoad: true"></script>

	<script type="text/javascript">
		require([
			"dojo/parser",
			"dui/mobile/compat",
			"dojo/domReady",
			"dui/registry",
			"dui/mobile/FilteredListMixin",
			"dui/mobile/ScrollableView",
			"dui/mobile/SimpleDialog",
			"dui/mobile/RoundRect",
			"dui/mobile/Button",
			"dui/mobile/RadioButton",
			"dui/mobile/Switch"
			], function(parser, compat, ready, registry){
			
			var filterBox;
			
			// Shows the Search Options dialog.
			showOptions = function(dlg){
				registry.byId(dlg).show();
			};

			// Hides the Search Options dialog. Optionally, applies the new search options.
			hideOptions = function(dlg, applyOptions){
				registry.byId(dlg).hide();
				if(applyOptions){
					filterBox.set("ignoreCase", registry.byId("ignoreCaseSwitch").value == "on");
					filterBox.set("incremental", registry.byId("incrementalSwitch").value == "on");
					if (registry.byId("radioStartsWith").checked){
						filterBox.queryExpr = "${0}*";
					}else if(registry.byId("radioContains").checked){
						filterBox.queryExpr = "*${0}*";
					}else if(registry.byId("radioIs").checked){
						filterBox.queryExpr = "${0}";
					}
				}
			};
			
			ready(function(){
				filterBox = registry.byId("filterBox");
			});
		});
	</script>
	
	<style>
		/* Fit the margin defined by duiRoundRectList in all themes but ipad */
		.searchOptions {
			float: right; 
			margin-right: 9px;
		}
		/* Fit the margin defined by duiRoundRectList for ipad */
		.dj_ipad.dj_tablet .searchOptions {
			float: right; 
			margin-right: 30px;
		}
		.lnk {
			font-size: 14px;
			color: #0B5199;
			text-decoration: none;
		}
		.duiSimpleDialogButton {
			margin: 7px 0 0;
			width: 262px;
			font-size: 17px;
			font-weight: bold;
			opacity: 0.95;
		}
		.duiSimpleDialogButton2l {
			float: left;
			width: 127px;
			margin: 7px 0 0;
			font-size: 17px;
			font-weight: bold;
			opacity: 0.95;
		}
		.duiSimpleDialogButton2r {
			float: right;
			width: 127px;
			margin: 7px 0 0;
			font-size: 17px;
			font-weight: bold;
			opacity: 0.95;
		}
	</style>
</head>

<body style="visibility:hidden;background-color:#424142;">
	<div data-dojo-type="dui/mobile/View">
		<h1 data-dojo-type="dui/mobile/Heading" data-dojo-props="fixed: 'top'">Filtered RoundRectList</h1>
		<div class="duiFilteredRoundRectListSearchBox">
			<input data-dojo-type="dui/mobile/SearchBox" type="search" id="filterBox"
				data-dojo-props="filterBoxRef: 'filterBox'"
				style="width: 50%; float: left">
		</div>
		<button class="searchOptions" onclick="showOptions('dlg_options')">Options</button>
		<div data-dojo-type="dui/mobile/ScrollableView">
			<ul id="list" data-dojo-type="dui/mobile/RoundRectList"
				data-dojo-mixins="dui/mobile/FilteredListMixin"
				data-dojo-props="filterBoxRef: 'filterBox', placeHolder: 'Search'">
				<li data-dojo-type="dui/mobile/ListItem">Alabama</li>
				<li data-dojo-type="dui/mobile/ListItem">Alaska</li>
				<li data-dojo-type="dui/mobile/ListItem">American Samoa</li>
				<li data-dojo-type="dui/mobile/ListItem">Arizona</li>
				<li data-dojo-type="dui/mobile/ListItem">Arkansas</li>
				<li data-dojo-type="dui/mobile/ListItem">Armed Forces Europe</li>
				<li data-dojo-type="dui/mobile/ListItem">Armed Forces Pacific</li>
				<li data-dojo-type="dui/mobile/ListItem">Armed Forces the Americas</li>
				<li data-dojo-type="dui/mobile/ListItem">California</li>
				<li data-dojo-type="dui/mobile/ListItem">Colorado</li>
				<li data-dojo-type="dui/mobile/ListItem">Connecticut</li>
				<li data-dojo-type="dui/mobile/ListItem">Delaware</li>
				<li data-dojo-type="dui/mobile/ListItem">District of Columbia</li>
				<li data-dojo-type="dui/mobile/ListItem">Federated States of Micronesia</li>
				<li data-dojo-type="dui/mobile/ListItem">Florida</li>
				<li data-dojo-type="dui/mobile/ListItem">Georgia</li>
				<li data-dojo-type="dui/mobile/ListItem">Guam</li>
				<li data-dojo-type="dui/mobile/ListItem">Hawaii</li>
				<li data-dojo-type="dui/mobile/ListItem">Idaho</li>
				<li data-dojo-type="dui/mobile/ListItem">Illinois</li>
				<li data-dojo-type="dui/mobile/ListItem">Indiana</li>
				<li data-dojo-type="dui/mobile/ListItem">Iowa</li>
				<li data-dojo-type="dui/mobile/ListItem">Kansas</li>
				<li data-dojo-type="dui/mobile/ListItem">Kentucky</li>
				<li data-dojo-type="dui/mobile/ListItem">Louisiana</li>
				<li data-dojo-type="dui/mobile/ListItem">Maine</li>
				<li data-dojo-type="dui/mobile/ListItem">Marshall Islands</li>
				<li data-dojo-type="dui/mobile/ListItem">Maryland</li>
				<li data-dojo-type="dui/mobile/ListItem">Massachusetts</li>
				<li data-dojo-type="dui/mobile/ListItem">Michigan</li>
				<li data-dojo-type="dui/mobile/ListItem">Minnesota</li>
				<li data-dojo-type="dui/mobile/ListItem">Mississippi</li>
				<li data-dojo-type="dui/mobile/ListItem">Missouri</li>
				<li data-dojo-type="dui/mobile/ListItem">Montana</li>
				<li data-dojo-type="dui/mobile/ListItem">Nebraska</li>
				<li data-dojo-type="dui/mobile/ListItem">Nevada</li>
				<li data-dojo-type="dui/mobile/ListItem">New Hampshire</li>
				<li data-dojo-type="dui/mobile/ListItem">New Jersey</li>
				<li data-dojo-type="dui/mobile/ListItem">New Mexico</li>
				<li data-dojo-type="dui/mobile/ListItem">New York</li>
				<li data-dojo-type="dui/mobile/ListItem">North Carolina</li>
				<li data-dojo-type="dui/mobile/ListItem">North Dakota</li>
				<li data-dojo-type="dui/mobile/ListItem">Northern Mariana Islands</li>
				<li data-dojo-type="dui/mobile/ListItem">Ohio</li>
				<li data-dojo-type="dui/mobile/ListItem">Oklahoma</li>
				<li data-dojo-type="dui/mobile/ListItem">Oregon</li>
				<li data-dojo-type="dui/mobile/ListItem">Pennsylvania</li>
				<li data-dojo-type="dui/mobile/ListItem">Puerto Rico</li>
				<li data-dojo-type="dui/mobile/ListItem">Rhode Island</li>
				<li data-dojo-type="dui/mobile/ListItem">South Carolina</li>
				<li data-dojo-type="dui/mobile/ListItem">South Dakota</li>
				<li data-dojo-type="dui/mobile/ListItem">Tennessee</li>
				<li data-dojo-type="dui/mobile/ListItem">Texas</li>
				<li data-dojo-type="dui/mobile/ListItem">Utah</li>
				<li data-dojo-type="dui/mobile/ListItem">Vermont</li>
				<li data-dojo-type="dui/mobile/ListItem">Virgin Islands, U.S.</li>
				<li data-dojo-type="dui/mobile/ListItem">Virginia</li>
				<li data-dojo-type="dui/mobile/ListItem">Washington</li>
				<li data-dojo-type="dui/mobile/ListItem">West Virginia</li>
				<li data-dojo-type="dui/mobile/ListItem">Wisconsin</li>
				<li data-dojo-type="dui/mobile/ListItem">Wyoming</li>
			</ul>
		</div>
	</div>
	
	<div id="dlg_options" data-dojo-type="dui/mobile/SimpleDialog">
		<div class="duiSimpleDialogTitle">Search Options</div>
		<table style="width:100%">
			<tr>
				<td><span class="bold">Ignore case</span></td>
				<td style="text-align:left">
					<input type="checkbox" data-dojo-type="dui/mobile/Switch" 
						id="ignoreCaseSwitch" value="on"></td>
			</tr>
			<tr>
				<td><span class="bold">Incremental</span></td>
				<td style="text-align:left">
					<input type="checkbox" data-dojo-type="dui/mobile/Switch" 
						id="incrementalSwitch" value="on">
				</td>
			</tr>
			<tr>
				<td style="text-align:left">
					<input type="radio" id="radioStartsWith" data-dojo-type="dui/mobile/RadioButton" 
						name="mobileRadio" value="Starts with" checked>
					<label for="radioStartsWith">Starts with</label>
				</td>
			</tr>
			<tr>
				<td style="text-align:left">
					<input type="radio" id="radioContains" data-dojo-type="dui/mobile/RadioButton" 
						name="mobileRadio" value="Contains">
					<label for="radioContains">Contains</label>
				</td>
			</tr>
			<tr>
				<td style="text-align:left">
					<input type="radio" id="radioIs" data-dojo-type="dui/mobile/RadioButton" 
						name="mobileRadio" value="Is">
					<label for="radioIs">Is</label>
				</td>
			</tr>
		</table>

		<button data-dojo-type="dui/mobile/Button" class="duiSimpleDialogButton2l" 
			onclick="hideOptions('dlg_options', false)">Cancel</button>
		<button data-dojo-type="dui/mobile/Button" class="duiSimpleDialogButton2r duiBlueButton" 
			onclick="hideOptions('dlg_options', true)">OK</button>
	</div>
</body>
</html>
